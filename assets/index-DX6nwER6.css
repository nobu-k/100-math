*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{font-family:Helvetica Neue,Arial,Hiragino Kaku Gothic ProN,sans-serif;background:#fff;color:#000}#root{width:100%}a{color:inherit;text-decoration:none}.layout{display:flex;min-height:100vh}.sidebar{width:220px;flex-shrink:0;background:#f8f8f8;border-right:1px solid #ddd;padding:20px 0}.sidebar-title{font-size:14px;font-weight:700;color:#888;padding:0 16px 12px;border-bottom:1px solid #e0e0e0;margin-bottom:8px}.sidebar-menu{list-style:none}.sidebar-item{padding:10px 16px;cursor:pointer;border-left:3px solid transparent;transition:background .15s}.sidebar-item:hover{background:#eee}.sidebar-item.active{background:#e8f0fe;border-left-color:#1a73e8}.sidebar-item-label{display:block;font-size:15px;font-weight:600}.mobile-toolbar{display:none}.app{flex:1;display:flex;flex-direction:column;align-items:center;padding:20px}.print-title{display:none}.controls{margin-bottom:20px;display:flex;gap:12px}.controls button{font-size:18px;padding:10px 24px;cursor:pointer;border:2px solid #333;border-radius:6px;background:#fff;color:#333}.controls button:hover{background:#f0f0f0}.operator-select{font-size:18px;padding:10px 24px;cursor:pointer;border:2px solid #333;border-radius:6px;background:#fff;color:#333}.settings-panel{display:flex;flex-wrap:wrap;gap:12px 16px;align-items:center;margin-bottom:20px;padding:12px 16px;border:2px solid #ddd;border-radius:6px;background:#fafafa;max-width:480px}.settings-panel label{display:flex;gap:8px;align-items:center;font-size:14px}.settings-panel .operator-select{font-size:14px;padding:4px 8px}.grid{border-collapse:collapse}.grid th,.grid td{border:2px solid #000;width:64px;height:64px;text-align:center;vertical-align:middle;font-size:32px;font-weight:700;padding:0}.corner-cell{position:relative;padding:0!important}.header-cell{background:#f5f5f5}.answer-cell{background:#fff}.qr-section{margin-top:16px;display:flex;align-items:center;gap:10px}.qr-label{font-size:14px;color:#555}.hissan-page{display:grid;grid-template-columns:repeat(3,auto);gap:24px 32px}.hissan-problem{display:flex;flex-direction:row;align-items:flex-start;gap:4px}.hissan-number{font-size:14px;color:#555;margin-top:4px;width:24px;text-align:right;flex-shrink:0}.hissan-grid{border-collapse:collapse}.hissan-cell{position:relative;width:48px;height:48px;border:2px dotted #ccc;text-align:center;vertical-align:middle;font-size:28px;font-weight:700;padding:0}.hissan-cell-carry{position:absolute;top:1px;right:2px;font-size:14px;font-weight:700;color:red;line-height:1}.hissan-operator-row td{border-bottom:4px solid #000}.hissan-answer-row td{color:red}.hissan-carry-row td{font-size:22px;font-weight:700;height:28px;color:red;border:none;text-align:center;vertical-align:bottom;padding:0}.hissan-borrow-in:before{content:"1";position:absolute;top:50%;left:1px;transform:translateY(-50%);font-size:28px;font-weight:700;color:red;line-height:1;pointer-events:none}.hissan-slashed{color:#999}.hissan-slashed:after{content:"";position:absolute;top:15%;left:15%;width:70%;height:70%;background:linear-gradient(to bottom left,transparent calc(50% - 1px),red calc(50% - 1px),red calc(50% + 1px),transparent calc(50% + 1px));pointer-events:none}.hissan-mul-operator-row td,.hissan-partial-last-row td{border-bottom:4px solid #000}.hissan-mul-wide{grid-template-columns:repeat(2,auto)}.hissan-dec-borrow{color:red}.hissan-dec-wide{grid-template-columns:repeat(2,auto)}.hissan-dot-after{position:relative}.hissan-dot-after:after{content:".";position:absolute;right:-6px;bottom:6px;font-size:36px;font-weight:700;line-height:1;z-index:1;color:inherit}.hissan-div-dot-after{position:relative}.hissan-div-dot-after:after{content:".";position:absolute;right:-5px;bottom:2px;font-size:28px;font-weight:700;line-height:1;z-index:1;color:inherit}.hissan-div-slashed-dot{position:relative}.hissan-div-slashed-dot:after{content:".";position:absolute;right:-5px;bottom:2px;font-size:28px;font-weight:700;line-height:1;z-index:1;color:inherit}.hissan-div-slashed-dot:before{content:"";position:absolute;right:-9px;bottom:2px;width:12px;height:12px;background:linear-gradient(to bottom left,transparent calc(50% - 1px),red calc(50% - 1px),red calc(50% + 1px),transparent calc(50% + 1px));z-index:2;pointer-events:none}.hissan-div-dot-red{position:relative}.hissan-div-dot-red:after{content:".";position:absolute;right:-5px;bottom:2px;font-size:28px;font-weight:700;line-height:1;z-index:1;color:red;-webkit-print-color-adjust:exact;print-color-adjust:exact}.hissan-div-slashed-zero{position:relative;display:inline-block;color:#999}.hissan-div-slashed-zero:after{content:"";position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:100%;background:linear-gradient(to bottom left,transparent calc(50% - 1px),red calc(50% - 1px),red calc(50% + 1px),transparent calc(50% + 1px));pointer-events:none}.hissan-div-extra-zero{color:red;-webkit-print-color-adjust:exact;print-color-adjust:exact}.hissan-div-cycle-dot:before{content:"";position:absolute;top:-2px;left:50%;transform:translate(-50%);width:6px;height:6px;background:red;border-radius:50%;-webkit-print-color-adjust:exact;print-color-adjust:exact}.hissan-div-page{grid-template-columns:repeat(3,auto)}.hissan-div-grid{border-collapse:collapse}.hissan-div-cell{position:relative;width:36px;height:36px;text-align:center;vertical-align:middle;font-size:28px;font-weight:700;padding:0;border:2px dotted #ccc}.hissan-div-bracket-top-line{border-bottom:3px solid #000}.hissan-div-bracket-top-start:before{content:"";position:absolute;left:-8px;bottom:-3px;width:8px;height:3px;background:#000;-webkit-print-color-adjust:exact;print-color-adjust:exact}.hissan-div-bracket-curve{position:absolute;left:-9px;top:-2px;bottom:-2px;width:10px;overflow:visible;pointer-events:none}.hissan-div-subtract-line{border-bottom:2px solid #000}.hissan-div-outside{border:none!important;padding-right:8px}.hissan-div-answer td,.hissan-div-work-cell{color:red}.hissan-div-remainder{font-size:20px;font-weight:700;color:red;white-space:nowrap}.hissan-no-grid .hissan-cell,.hissan-no-grid .hissan-div-cell{border-color:transparent}.hissan-no-grid .hissan-operator-row td,.hissan-no-grid .hissan-mul-operator-row td,.hissan-no-grid .hissan-partial-last-row td{border-bottom-color:#000}.hissan-no-grid .hissan-div-subtract-line{border-bottom-color:transparent}.hissan-no-grid .hissan-div-bracket-top-line{border-bottom-color:#000}.hissan-no-grid .hissan-div-bracket-top-ext{border-bottom-color:transparent}.hissan-no-grid.hissan-show-answers .hissan-div-subtract-line,.hissan-no-grid.hissan-show-answers .hissan-div-bracket-top-ext{border-bottom-color:#000}@media(max-width:768px){.layout{flex-direction:column}.mobile-toolbar{display:flex;justify-content:space-between;align-items:center;background:#fff;border-bottom:1px solid #ddd}.mobile-toolbar button{font-size:24px;background:none;border:none;cursor:pointer;padding:8px 12px}.sidebar{display:none;width:100%;border-right:none;border-bottom:2px solid #ddd;padding:8px 0}.sidebar.menu-open{display:block}.sidebar-item{border-left:none;padding:8px 16px}.sidebar-item.active{border-left:none;background:#e8f0fe}.app{padding:10px}.controls{display:none}.controls-open .controls{display:flex;flex-wrap:wrap}.controls-open .controls button{font-size:14px;padding:6px 14px}.settings-panel{max-width:100%}}@media print{.no-print{display:none!important}.layout{display:block}.print-title{display:block;font-size:24px;margin-bottom:12px}.app{padding:0}.grid th,.grid td{width:17mm;height:17mm;font-size:28px}.hissan-page{gap:12px 20px}.hissan-cell{width:12mm;height:12mm;font-size:20px}.hissan-carry-row td{font-size:12px;height:6mm}.hissan-cell-carry{font-size:10px}.hissan-mul-wide .hissan-cell{width:10mm;height:10mm;font-size:16px}.hissan-mul-wide .hissan-cell-carry{font-size:8px}.hissan-dec-wide .hissan-cell{width:10mm;height:10mm;font-size:16px}.hissan-dec-wide .hissan-carry-row td{font-size:10px;height:5mm}.hissan-dot-after:after{font-size:20px;right:-1mm;bottom:1mm}.hissan-div-cell{width:9mm;height:9mm;font-size:18px}.hissan-dec-wide .hissan-div-cell{width:6mm;height:6mm;font-size:12px}.hissan-div-dot-after:after{font-size:18px;right:-1mm;bottom:.5mm}.hissan-dec-wide .hissan-div-dot-after:after{font-size:12px;right:-.6mm;bottom:.2mm}.hissan-div-slashed-dot:after{font-size:18px;right:-1mm;bottom:.5mm}.hissan-div-slashed-dot:before{right:-1.5mm;bottom:.5mm;width:2.5mm;height:2.5mm}.hissan-dec-wide .hissan-div-slashed-dot:after{font-size:12px;right:-.6mm;bottom:.2mm}.hissan-dec-wide .hissan-div-slashed-dot:before{right:-1mm;bottom:.2mm;width:1.8mm;height:1.8mm}.hissan-div-dot-red:after{font-size:18px;right:-1mm;bottom:.5mm}.hissan-dec-wide .hissan-div-dot-red:after{font-size:12px;right:-.6mm;bottom:.2mm}.hissan-div-cycle-dot:before{width:1.5mm;height:1.5mm;top:-.5mm}.hissan-dec-wide .hissan-div-cycle-dot:before{width:1mm;height:1mm;top:-.3mm}.hissan-div-bracket-curve{width:2.5mm}.hissan-div-remainder{font-size:14px}@page{margin:15mm}}
