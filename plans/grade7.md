# 中学1年（Grade 7）問題計画

## カリキュラム概要

中学1年では、正の数・負の数（四則演算・絶対値）、文字を用いた式（一次式の計算）、一次方程式、平面図形（作図・移動）、空間図形（直線と平面の位置関係・立体の表面積と体積）、比例と反比例（座標・グラフ）、データの分析（代表値・度数分布・ヒストグラム・相対度数）を扱う。

〔用語・記号〕 自然数、素数、符号、絶対値、項、係数、移項、π（円周率）、弧、弦、おうぎ形、柱体（角柱・円柱）、錐体（角錐・円錐）、座標、関数、変域、度数分布表、ヒストグラム、相対度数、範囲、累積度数

---

## A. 数と式

### A1. 正の数・負の数

**カリキュラム要件:**
- 正の数・負の数の必要性と意味（自然数を含む）
- 正の数・負の数の四則計算
- 正の数・負の数を具体的な場面で活用する
- 絶対値の理解
- 素数の理解

**問題タイプ:**

#### A1-1. 正負の数の加減
- 「(+3) + (−7) = □」→ −4
- 「(−5) − (−2) = □」→ −3
- 3項以上の加減: 「(+4) + (−8) + (+3) = □」→ −1
- 小数・分数を含む: 「(−1.5) + (+2.3) = □」→ +0.8

**UI設計:**
- 式 + 回答欄の穴埋め形式
- 12〜15問
- 設定: 整数のみ / 小数を含む / 分数を含む、項の数（2項 / 3項以上）

**実装メモ:**
- 各項の符号と絶対値をランダム生成
- 答えが極端に大きくならないよう範囲制限（−30〜+30）
- 3項以上は累積で計算

#### A1-2. 正負の数の乗除
- 「(−3) × (+4) = □」→ −12
- 「(−12) ÷ (−4) = □」→ +3
- 累乗: 「(−2)³ = □」→ −8
- 乗除混合: 「(−6) × (+2) ÷ (−3) = □」→ +4

**UI設計:**
- 式 + 回答欄
- 12〜15問
- 設定: 乗法のみ / 除法のみ / 混合、累乗を含む

**実装メモ:**
- 符号のルール: 負×負=正、負×正=負 をバランスよく出題
- 除法は割り切れるペアを逆算で生成
- 累乗は底を−5〜+5、指数を2〜3に制限

#### A1-3. 正負の四則混合
- 「(−3)² + 4 × (−2) = □」→ 9 + (−8) = 1
- 「15 − (−3) × 4 ÷ 2 = □」→ 15 − (−6) = 21
- 括弧を含む計算

**UI設計:**
- 式 + 回答欄
- 10問程度
- 設定: 累乗あり/なし、括弧あり/なし

**実装メモ:**
- 式テンプレートを複数用意してランダムに値を嵌める
- 演算順序（累乗→乗除→加減）を意識した構成
- 途中計算が整数になるよう調整

#### A1-4. 絶対値
- 「−7 の絶対値は？」→ 7
- 「絶対値が 5 以下の整数をすべて書きなさい」→ −5, −4, ..., 4, 5
- 「|a| = 3 のとき a の値は？」→ +3 と −3

**UI設計:**
- 穴埋め + 列挙形式
- 8〜10問
- 設定: 絶対値を求める / 数を列挙 / 方程式的

**実装メモ:**
- 数直線のSVG描画をオプションで表示
- 列挙問題は範囲を限定して答えの個数を有限にする

#### A1-5. 素数の判定
- 「次の数のうち素数をすべて選びなさい: 1, 2, 7, 9, 11, 15, 21, 23」
- 「30を素因数分解しなさい」→ 2 × 3 × 5

**UI設計:**
- 複数選択形式（素数の選別）
- 穴埋め形式（素因数分解）
- 10問程度
- 設定: 素数判定 / 素因数分解

**実装メモ:**
- 素数判定: 2〜50の範囲からランダムに数を選び、素数と合成数を混ぜる
- 素因数分解: 素因数が小さい（2, 3, 5, 7, 11）数を生成して分解可能にする
- 1 は素数でないことを強調（引っかけとして出題）

---

### A2. 文字を用いた式

**カリキュラム要件:**
- 文字を使った式に表すこと（×, ÷ の省略記法を含む）
- 一次式の加法・減法
- 一次式と数の乗法・除法
- 数量の関係を式で表す

**問題タイプ:**

#### A2-1. 式の表し方（省略記法）
- 「a × 3 を省略して書きなさい」→ 3a
- 「x × x を省略して書きなさい」→ x²
- 「(a + b) ÷ 2 を省略して書きなさい」→ (a + b) / 2

**UI設計:**
- 式の変換問題
- 10問程度
- 設定: ×の省略 / ÷の省略 / 混合

**実装メモ:**
- 式テンプレートを用意
- 正しい省略形を文字列で判定（回答は選択式にすると実装が楽）

#### A2-2. 式の値
- 「x = −3 のとき、2x + 5 の値は？」→ −1
- 「a = 4, b = −2 のとき、3a − 2b の値は？」→ 16

**UI設計:**
- 式 + 代入値 + 回答欄
- 10問程度
- 設定: 変数1つ / 2つ

**実装メモ:**
- 6年生の文字式より発展: 負の数の代入が加わる
- 式テンプレート: ax + b, ax² + b, ax + by + c など
- 答えが−20〜+20の範囲になるよう調整

#### A2-3. 一次式の計算
- 「3x + 2 + 5x − 7 = □」→ 8x − 5（同類項をまとめる）
- 「(4a + 3) − (2a − 5) = □」→ 2a + 8
- 「3(2x − 1) = □」→ 6x − 3
- 「(8x − 4) ÷ 2 = □」→ 4x − 2

**UI設計:**
- 式の計算問題（答えも式）
- 回答は ax + b 形式の2つの欄（係数 + 定数項）
- 12問程度
- 設定: 加減のみ / 乗除のみ / 混合

**実装メモ:**
- 項のランダム生成: 係数（−9〜+9）と定数項（−15〜+15）
- 同類項の整理が必要な式を意図的に構成
- 答えの係数・定数項で正解判定

---

### A3. 一次方程式

**カリキュラム要件:**
- 方程式の必要性と意味、等式の性質
- 一次方程式を解くこと
- 一次方程式を具体的な場面で活用すること

**問題タイプ:**

#### A3-1. 一次方程式（基本）
- 「3x + 5 = 14 → x = □」→ 3
- 「2x − 7 = −1 → x = □」→ 3
- 「5 − 4x = −11 → x = □」→ 4

**UI設計:**
- 方程式 + 回答欄（x = □）
- 12問程度
- 設定: 正の係数のみ / 負の係数含む

**実装メモ:**
- 解 x を先に決めて（整数, −10〜+10）から式を逆算で構成
- ax + b = c の形

#### A3-2. 一次方程式（移項・括弧）
- 「4x − 3 = 2x + 7 → x = □」→ 5（両辺に x がある）
- 「3(x − 2) = 2x + 1 → x = □」→ 7（括弧を展開）
- 「0.3x + 1.2 = 0.9 → x = □」→ −1（小数の係数）
- 「(x + 1) / 3 = 2 → x = □」→ 5（分数の係数）

**UI設計:**
- 方程式 + 回答欄
- 12問程度
- 設定: 両辺に変数 / 括弧あり / 小数・分数の係数

**実装メモ:**
- 解 x を先に決めて式を逆算で構成
- 小数の場合は10倍して整数化する解法を想定
- 分数の場合は分母の最小公倍数をかける解法を想定
- 答えが整数になる場合と分数になる場合を混ぜる

---

## B. 図形

### B1. 平面図形

**カリキュラム要件:**
- 角の二等分線、線分の垂直二等分線、垂線の作図
- 平行移動、対称移動（線対称）、回転移動
- 円とおうぎ形の計量（弧の長さ・面積）

**問題タイプ:**

#### B1-1. おうぎ形の弧の長さと面積
- 「半径 6cm、中心角 120° のおうぎ形の弧の長さは？」→ 2π × 6 × 120/360 = 4π cm
- 「半径 9cm、中心角 60° のおうぎ形の面積は？」→ π × 9² × 60/360 = 13.5π cm²

**UI設計:**
- おうぎ形のSVG描画 + 寸法（半径・中心角）
- 回答はπを含む形（aπ cm / aπ cm²）
- 10問程度
- 設定: 弧の長さ / 面積 / 混合、中心角の制約（30°刻み / 自由）

**実装メモ:**
- 中心角を30°の倍数にして計算をきれいに
- 答えは aπ 形式で、a の部分を回答欄とする
- 半径は整数（3〜15）
- πを使う計算（小学校の3.14ではなくπで表す）

#### B1-2. 作図の手順（知識問題）
- 「角の二等分線を作図する手順を選びなさい」
- 「線分ABの垂直二等分線を作図するのに必要な操作は？」

**UI設計:**
- 選択式問題（手順の並べ替えまたは正誤判定）
- 将来課題（作図そのものは画面上で実施困難）

---

### B2. 空間図形

**カリキュラム要件:**
- 直線や平面の位置関係（平行・垂直・ねじれの位置）
- 平面図形の運動による立体の構成（回転体など）
- 角柱・円柱、角錐・円錐、球の表面積と体積

**問題タイプ:**

#### B2-1. 角柱・円柱の表面積と体積
- 「底面の半径 3cm、高さ 10cm の円柱の体積は？」→ π × 3² × 10 = 90π cm³
- 「底面の半径 3cm、高さ 10cm の円柱の表面積は？」→ 2π × 3² + 2π × 3 × 10 = 78π cm²
- 「一辺 5cm の正四角柱（高さ 8cm）の体積は？」→ 25 × 8 = 200 cm³

**UI設計:**
- 立体のSVG見取図 + 寸法
- 回答はπを含む形（円柱）or 整数（角柱）
- 10問程度
- 設定: 角柱 / 円柱 / 混合、体積 / 表面積 / 混合

**実装メモ:**
- 円柱: 体積 = πr²h、表面積 = 2πr² + 2πrh
- 角柱: 底面積 × 高さ（底面は正三角形・正方形・長方形など）
- 寸法は整数にして答えがきれいになるよう調整

#### B2-2. 角錐・円錐の表面積と体積
- 「底面の半径 4cm、高さ 9cm の円錐の体積は？」→ 1/3 × π × 4² × 9 = 48π cm³
- 「底面の半径 3cm、母線の長さ 5cm の円錐の表面積は？」→ π × 3² + π × 3 × 5 = 24π cm²

**UI設計:**
- 立体のSVG見取図 + 寸法
- 10問程度
- 設定: 角錐 / 円錐 / 混合、体積 / 表面積

**実装メモ:**
- 体積 = 1/3 × 底面積 × 高さ
- 円錐の側面積 = πrl（r: 底面の半径、l: 母線の長さ）
- 高さ・半径・母線の三平方の関係は中3で扱うので、ここでは直接値を与える

#### B2-3. 球の表面積と体積
- 「半径 6cm の球の体積は？」→ 4/3 × π × 6³ = 288π cm³
- 「半径 5cm の球の表面積は？」→ 4π × 5² = 100π cm²

**UI設計:**
- 球のSVG描画 + 半径
- 回答はπを含む形
- 6〜8問
- 設定: 体積 / 表面積 / 混合

**実装メモ:**
- 体積 = 4/3 πr³、表面積 = 4πr²
- 半径を整数にして体積が aπ（a は整数）になるよう: r は3の倍数が望ましい

---

## C. 関数

### C1. 比例と反比例

**カリキュラム要件:**
- 関数の意味の理解
- 比例 y = ax と反比例 y = a/x
- 座標の意味と表・式・グラフの相互変換
- 比例・反比例を活用して問題を解決する

**問題タイプ:**

#### C1-1. 比例の式を求める
- 「y は x に比例し、x = 3 のとき y = −6。y を x の式で表しなさい」→ y = −2x
- 「y = 4x のとき、x = −5 なら y = □」→ −20

**UI設計:**
- 条件 + 回答欄（y = ax の a を答える、または y の値を答える）
- 10問程度
- 設定: 式を求める / 値を求める / 混合

**実装メモ:**
- 比例定数 a は整数（−10〜+10、0を除く）
- 小学校との違い: 負の比例定数が登場

#### C1-2. 反比例の式を求める
- 「y は x に反比例し、x = 4 のとき y = 3。y を x の式で表しなさい」→ y = 12/x
- 「y = −6/x のとき、x = 2 なら y = □」→ −3

**UI設計:**
- 条件 + 回答欄（y = a/x の a を答える、または y の値を答える）
- 10問程度
- 設定: 式を求める / 値を求める / 混合

**実装メモ:**
- 比例定数 a は整数（−24〜+24、0を除く）
- x, y ともに整数になるよう a の約数ペアで出題

#### C1-3. 座標の読み取りとプロット
- 「点 A(3, −2) は第何象限にありますか？」→ 第4象限
- 「y = 2x のグラフが通る点を次から選びなさい」
- 「原点を通り、点 (2, 6) を通る直線の式は？」→ y = 3x

**UI設計:**
- 座標平面のSVG描画（4象限）+ 点のプロット
- 10問程度
- 設定: 象限の判定 / グラフ上の点 / 式の判定

**実装メモ:**
- 座標平面は −10〜+10 の範囲で描画
- グリッド線つきのSVG

---

## D. データの活用

### D1. データの分析と活用

**カリキュラム要件:**
- ヒストグラム（柱状グラフ）や度数分布表
- 相対度数
- 範囲（レンジ）
- 代表値（平均値、中央値、最頻値）を用いたデータの傾向の読み取り
- 累積度数
- データを収集し整理して傾向を読み取る活動

**問題タイプ:**

#### D1-1. 度数分布表の読み取り
- 度数分布表を与え、各階級の度数・相対度数・累積度数を求める
- 「以下の度数分布表を完成させなさい」（空欄の階級を埋める）

**UI設計:**
- 度数分布表（表形式）の穴埋め
- 8問程度
- 設定: 度数 / 相対度数 / 累積度数

**実装メモ:**
- 生データから度数分布表を自動生成
- 階級の幅は 5 or 10 の整数
- 相対度数は小数2桁で、合計が1.00になるよう調整
- 累積度数は度数の上からの累積和

#### D1-2. 代表値の計算
- データセットから平均値・中央値・最頻値を求める
- 「データ: 3, 5, 7, 5, 10, 5, 8 の平均値・中央値・最頻値を求めなさい」

**UI設計:**
- データの一覧 + 3つの回答欄
- 6年生の代表値と同様の形式
- 8問程度
- 設定: データの個数（7〜15）、正負の数を含むかどうか

**実装メモ:**
- 6年生の既存実装を拡張: 負の数や小数を含むデータに対応
- データの個数を増やして難度を上げる

#### D1-3. ヒストグラムの読み取り
- ヒストグラムから度数を読み取る
- 「最も度数が多い階級はどれか」
- 「○○以上の人数は何人か」

**UI設計:**
- ヒストグラムのSVG描画 + 設問
- 6〜8問
- 設定: 階級の数（5〜8）、データの種類

**実装メモ:**
- 棒グラフ（bar-graph）の既存SVG描画を流用
- 棒は隙間なく並べる（ヒストグラムの特徴）
- 階級値のラベルを x 軸に表示

---

## 既存機能との対応表

| カリキュラム項目 | 実装状態 | ファイル |
|---|---|---|
| 正負の加減 | ✅ 完了 | pos-neg-add-sub.ts |
| 正負の乗除 | ✅ 完了 | pos-neg-mul-div.ts |
| 正負の四則混合 | ✅ 完了 | pos-neg-mixed.ts |
| 絶対値 | ✅ 完了 | absolute-value.ts |
| 素数・素因数分解 | ✅ 完了 | prime.ts |
| 式の値 | ✅ 完了 | expr-value.ts |
| 一次式の計算 | ✅ 完了 | linear-expr.ts |
| 一次方程式 | ✅ 完了 | linear-eq.ts |
| おうぎ形の計量 | ✅ 完了 | sector.ts |
| 立体の体積・表面積 | ✅ 完了 | solid-volume.ts |
| 比例・反比例 | ✅ 完了 | proportion.ts |
| データの分析 | ✅ 完了 | data-analysis.ts |
| 座標 | ✅ 完了 | coordinate.ts |
| 作図の手順 | 将来課題 | − |
| 平面図形の移動 | 将来課題 | − |

## 実装優先度

1. **高**: 正負の数の加減（中学数学の最重要基礎）
2. **高**: 正負の数の乗除（符号ルールの定着）
3. **高**: 一次方程式（基本）（代数の入口）
4. **高**: 一次式の計算（文字式の基礎）
5. **高**: 正負の四則混合（計算力の総合）
6. **中**: 一次方程式（移項・括弧）（方程式の応用）
7. **中**: 式の値（代入計算）
8. **中**: 比例・反比例の式（関数の基礎）
9. **中**: おうぎ形の弧の長さと面積（πを使った計算）
10. **中**: 素数・素因数分解
11. **中**: 角柱・円柱・角錐・円錐の体積
12. **中**: 絶対値
13. **低**: 球の表面積と体積
14. **低**: 度数分布表・ヒストグラム
15. **低**: 座標の読み取り
16. **低**: 文字式の表し方（選択式で対応）
