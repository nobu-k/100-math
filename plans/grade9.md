# 中学3年（Grade 9）問題計画

## カリキュラム概要

中学3年では、平方根（根号を含む式の計算）、多項式の展開と因数分解（乗法公式）、二次方程式（因数分解・平方完成・解の公式）、相似な図形（三角形の相似条件・平行線と比）、円周角と中心角の関係、三平方の定理（証明と活用）、関数 y = ax²（二次関数の基礎）、標本調査（母集団と標本）を扱う。

〔用語・記号〕 平方根、根号（√）、有理数、無理数、因数、因数分解、素因数分解、相似、∽（相似記号）、円周角、中心角、弦、接線、接点、標本調査、全数調査、母集団、標本

---

## A. 数と式

### A1. 平方根

**カリキュラム要件:**
- 平方根の必要性と意味
- 数の平方根を求めること
- 有理数と無理数の区別
- 根号を含む式の計算（乗法・除法・加法・減法）

**問題タイプ:**

#### A1-1. 平方根を求める
- 「49 の平方根は？」→ ±7
- 「√81 = □」→ 9
- 「(−5)² の平方根は？」→ ±5
- 「√0.25 = □」→ 0.5

**UI設計:**
- 穴埋め形式
- √ 記号の表示（CSSまたはSVG）
- 10問程度
- 設定: 完全平方数のみ / 小数・分数を含む

**実装メモ:**
- 完全平方数: 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144 など
- 平方根を求める問題は ±（正負両方）が答え
- √a は正の平方根のみ（定義の理解を問う）

#### A1-2. 根号の簡約化
- 「√12 = □√□」→ 2√3
- 「√50 = □√□」→ 5√2
- 「√(8/9) = □」→ 2√2 / 3
- 「3√2 を √□ の形に直しなさい」→ √18

**UI設計:**
- 穴埋め形式（a√b の a と b を入力）
- 10問程度
- 設定: 簡約化 / 根号の中に入れる / 分数

**実装メモ:**
- √n = a√b の形: n を素因数分解して、平方因数を外に出す
- n = a² × b（b は平方因数を持たない）
- よく使う値: √2, √3, √5, √6, √7 が根号内に残るものを中心に

#### A1-3. 根号を含む式の乗除
- 「√3 × √6 = □」→ 3√2
- 「√2 × √8 = □」→ 4
- 「√18 ÷ √2 = □」→ 3
- 「2√3 × 3√5 = □」→ 6√15

**UI設計:**
- 式 + 回答欄（a√b 形式）
- 12問程度
- 設定: 乗法 / 除法 / 混合

**実装メモ:**
- √a × √b = √(ab) を計算し、結果を簡約化
- √a ÷ √b = √(a/b) を計算し、結果を簡約化
- 答えが整数になるケースを意図的に含める

#### A1-4. 根号を含む式の加減
- 「3√2 + 5√2 = □」→ 8√2
- 「√12 + √27 = □」→ 2√3 + 3√3 = 5√3
- 「√50 − √8 = □」→ 5√2 − 2√2 = 3√2
- 「√18 + √2 − √32 = □」→ 3√2 + √2 − 4√2 = 0

**UI設計:**
- 式 + 回答欄（a√b 形式）
- 12問程度
- 設定: 同じ根号 / 簡約化が必要 / 3項以上

**実装メモ:**
- まず各項を a√b の形に簡約化
- 同じ √b の項の係数を合計
- 根号部分が同じになるペアを意図的に生成

#### A1-5. 分母の有理化
- 「1/√3 = □」→ √3/3
- 「6/√2 = □」→ 3√2
- 「(3 + √5)/√5 = □」→ (3√5 + 5)/5

**UI設計:**
- 分数表示（既存Fracコンポーネント拡張）+ 回答欄
- 8問程度
- 設定: 基本 / 応用（分子が式）

**実装メモ:**
- 分母と分子に √n をかけて分母を有理化
- 答えの約分も行う

---

### A2. 多項式の展開と因数分解

**カリキュラム要件:**
- 単項式と多項式の乗法・多項式の除法
- 多項式の展開（分配法則、乗法公式）
- 因数分解（共通因数、乗法公式の逆）
- 乗法公式:
  - (a + b)² = a² + 2ab + b²
  - (a − b)² = a² − 2ab + b²
  - (a + b)(a − b) = a² − b²
  - (x + a)(x + b) = x² + (a + b)x + ab

**問題タイプ:**

#### A2-1. 式の展開（分配法則）
- 「2x(3x − 4) = □」→ 6x² − 8x
- 「(x + 3)(x + 5) = □」→ x² + 8x + 15
- 「(2a − 1)(3a + 4) = □」→ 6a² + 5a − 4

**UI設計:**
- 式 + 回答欄（各項の係数を入力）
- 12問程度
- 設定: 単項式×多項式 / 二項式×二項式

**実装メモ:**
- 分配法則で全項を展開し同類項をまとめる
- 係数は−9〜+9の整数
- 二項式×二項式は FOIL 法

#### A2-2. 乗法公式の適用
- 「(x + 4)² = □」→ x² + 8x + 16
- 「(3a − 2)² = □」→ 9a² − 12a + 4
- 「(x + 7)(x − 7) = □」→ x² − 49
- 「(x + 3)(x − 5) = □」→ x² − 2x − 15

**UI設計:**
- 式 + 回答欄
- 12問程度
- 設定: 和の平方 / 差の平方 / 和と差の積 / (x + a)(x + b) / 混合

**実装メモ:**
- 乗法公式を直接適用
- a, b は−9〜+9の整数
- 式の型をランダム選択してから値を嵌める

#### A2-3. 因数分解（共通因数）
- 「6x² + 9x = □」→ 3x(2x + 3)
- 「4ab − 8a²b = □」→ 4ab(1 − 2a)

**UI設計:**
- 式 + 回答欄（因数分解した形）
- 10問程度
- 回答は共通因数と残りの因数に分けて入力

**実装メモ:**
- 共通因数を先に決めて、残りの多項式をランダム生成
- 結果の式を展開して問題文にする（逆算）

#### A2-4. 因数分解（乗法公式の逆）
- 「x² + 6x + 9 = □」→ (x + 3)²
- 「x² − 16 = □」→ (x + 4)(x − 4)
- 「x² + 5x + 6 = □」→ (x + 2)(x + 3)
- 「x² − 3x − 10 = □」→ (x + 2)(x − 5)

**UI設計:**
- 式 + 回答欄
- 12問程度
- 設定: 完全平方式 / 差の平方 / (x + a)(x + b) 型 / 混合

**実装メモ:**
- a, b を先に決めて展開した式を問題にする（逆算）
- x² + (a+b)x + ab の形 → a, b の和と積が整数になるペアを生成
- a, b は−9〜+9の整数

---

### A3. 二次方程式

**カリキュラム要件:**
- 二次方程式の必要性と意味
- 因数分解による解法
- 平方完成による解法
- 二次方程式の解の公式: x = (−b ± √(b²−4ac)) / 2a
- 二次方程式を具体的な場面で活用すること

**問題タイプ:**

#### A3-1. 二次方程式（因数分解）
- 「x² − 5x + 6 = 0 → x = □, □」→ x = 2, 3
- 「x² + 3x = 0 → x = □, □」→ x = 0, −3
- 「x² − 9 = 0 → x = □, □」→ x = ±3
- 「(x − 2)(x + 4) = 0 → x = □, □」→ x = 2, −4

**UI設計:**
- 方程式 + 2つの回答欄（x = □, x = □）
- 12問程度
- 設定: x² + bx + c = 0 型 / x² + bx = 0 型 / x² − c = 0 型

**実装メモ:**
- 解を2つ先に決めて（整数, −10〜+10）式を逆算
- (x − p)(x − q) = 0 → x² − (p+q)x + pq = 0
- 解が重解の場合も含める

#### A3-2. 二次方程式（平方完成・解の公式）
- 「x² + 4x − 1 = 0 → x = □」→ x = −2 ± √5
- 「2x² − 3x − 1 = 0 → x = □」→ x = (3 ± √17) / 4
- 解の公式の適用

**UI設計:**
- 方程式 + 回答欄（a ± √b / c の形式で a, b, c を入力）
- 10問程度
- 設定: 平方完成で解ける / 解の公式が必要

**実装メモ:**
- 判別式 D = b² − 4ac > 0 を保証
- 答えが a ± √b の形（c = 1 のケース）を中心に
- 解の公式: 係数 a, b, c を与えて計算
- D が完全平方数になる場合は整数解に帰着（因数分解問題と重複しないよう注意）

---

## B. 図形

### B1. 相似な図形

**カリキュラム要件:**
- 相似の意味と相似比
- 三角形の相似条件（3組の比が等しい、2組の比とその間の角が等しい、2組の角が等しい）
- 平行線と線分の比
- 相似な図形の面積比・体積比
- 中点連結定理

**問題タイプ:**

#### B1-1. 相似比と辺の長さ
- 「△ABC ∽ △DEF で相似比が 2:3。AB = 8cm のとき DE = □cm」→ 12
- 「相似比 3:5 で、小さい方の周の長さが 24cm。大きい方の周の長さは？」→ 40cm

**UI設計:**
- 相似な図形のSVG描画（大小2つ）+ 寸法
- 10問程度
- 設定: 辺の長さ / 周の長さ / 面積比 / 体積比

**実装メモ:**
- 相似比を a:b（互いに素な整数、a < b）で設定
- 辺の長さは相似比のスケーリング
- 面積比 = a²:b²、体積比 = a³:b³

#### B1-2. 平行線と比
- 「△ABCで DE // BC、AD = 4, DB = 6, AE = 3 のとき EC = □」→ 4.5
- 「平行線が3本あり、一方の横断線上の比が 2:3。他方の対応する比は？」

**UI設計:**
- 三角形 + 平行線のSVG描画 + 寸法
- 10問程度
- 設定: 三角形と平行線 / 平行線と横断線

**実装メモ:**
- 比例の計算: AD:DB = AE:EC
- 整数比になるよう数値を調整（比が a:b なら a, b の倍数で辺の長さを設定）

#### B1-3. 中点連結定理
- 「△ABCで M, N がそれぞれ AB, AC の中点。BC = 12cm のとき MN = □cm」→ 6
- 「MN // BC であることの確認」

**UI設計:**
- 三角形 + 中点のSVG描画 + 寸法
- 6問程度

**実装メモ:**
- MN = BC / 2（中点連結定理）
- BC は偶数にして答えが整数になるよう調整

---

### B2. 円周角と中心角

**カリキュラム要件:**
- 円周角と中心角の関係（中心角 = 2 × 円周角）
- 同じ弧に対する円周角は等しい
- 半円の弧に対する円周角は90°
- 円周角の定理を活用して問題を解決すること

**問題タイプ:**

#### B2-1. 円周角と中心角の計算
- 「弧ABに対する中心角が 100° のとき、円周角は？」→ 50°
- 「弧ABに対する円周角が 35° のとき、中心角は？」→ 70°
- 「同じ弧に対する2つの円周角 ∠APB と ∠AQB の関係は？」→ 等しい

**UI設計:**
- 円のSVG描画 + 中心角・円周角のマーク
- 10問程度
- 設定: 中心角→円周角 / 円周角→中心角 / 応用

**実装メモ:**
- 中心角 = 2 × 円周角 の基本関係
- 角度は整数（偶数の中心角にして円周角も整数に）
- SVG: 円 + 中心 + 弧上の点 + 角のマーク

#### B2-2. 円周角の応用
- 「半円の弧に対する円周角は □°」→ 90°
- 「四角形ABCDが円に内接するとき、∠A + ∠C = □°」→ 180°
- 複合図形での角度計算

**UI設計:**
- 円のSVG描画 + 内接四角形・三角形
- 8問程度

**実装メモ:**
- 内接四角形の対角の和 = 180°
- 複合的な角度計算は、複数の定理を組み合わせる

---

### B3. 三平方の定理

**カリキュラム要件:**
- 三平方の定理（a² + b² = c²）の理解と証明
- 三平方の定理を用いて直角三角形の辺の長さを求める
- 平面図形・空間図形への適用

**問題タイプ:**

#### B3-1. 直角三角形の辺の長さ
- 「直角三角形で、2辺が 3cm, 4cm のとき斜辺は？」→ 5cm
- 「斜辺が 13cm、一辺が 5cm のとき、他の一辺は？」→ 12cm
- 「直角二等辺三角形で、斜辺が 6cm のとき他の辺は？」→ 3√2 cm

**UI設計:**
- 直角三角形のSVG描画 + 既知の辺の寸法 + 未知の辺に□
- 12問程度
- 設定: 斜辺を求める / 他の一辺を求める / 特殊な直角三角形

**実装メモ:**
- ピタゴラス数: (3,4,5), (5,12,13), (8,15,17), (7,24,25) などの整数組を使用
- 答えが √ を含む場合: 辺を整数にして斜辺が a√b の形になるケース
- 特殊な直角三角形: 1:1:√2、1:√3:2 の比率

#### B3-2. 特殊な直角三角形
- 「正三角形の一辺が 8cm のとき高さは？」→ 4√3 cm
- 「45°-45°-90° の三角形で一辺が 5cm のとき斜辺は？」→ 5√2 cm
- 「30°-60°-90° の三角形で短い辺が 4cm のとき他の辺は？」→ 4√3, 8

**UI設計:**
- 特殊な三角形のSVG描画 + 寸法
- 10問程度
- 設定: 45°-45°-90° / 30°-60°-90° / 正三角形の高さ

**実装メモ:**
- 45°-45°-90°: 辺の比 1:1:√2
- 30°-60°-90°: 辺の比 1:√3:2
- 正三角形の高さ = (√3/2) × 一辺
- 辺を整数にして答えが a√b の形になるよう調整

#### B3-3. 三平方の定理の応用
- 「2点 A(1, 2) と B(4, 6) の距離は？」→ √((4−1)² + (6−2)²) = √(9+16) = 5
- 「直方体（3cm × 4cm × 12cm）の対角線の長さは？」→ √(9+16+144) = 13cm
- 「円の中心から弦までの距離を求める」

**UI設計:**
- 図形のSVG描画 + 寸法、または座標問題
- 10問程度
- 設定: 2点間の距離 / 直方体の対角線 / 円と弦

**実装メモ:**
- 2点間の距離: √((x₂−x₁)² + (y₂−y₁)²)
- 直方体の対角線: √(a² + b² + c²)
- 答えが整数になるピタゴラス数を活用

---

## C. 関数

### C1. 関数 y = ax²

**カリキュラム要件:**
- 関数 y = ax² のグラフの特徴（放物線）
- 表・式・グラフの関連
- 変化の割合が一定でないこと
- 関数 y = ax² を活用して問題を解決すること
- いろいろな事象と関数（関数の概念の広がり）

**問題タイプ:**

#### C1-1. y = ax² の値を求める
- 「y = 2x² のとき、x = 3 なら y = □」→ 18
- 「y = −x² のとき、x = −4 なら y = □」→ −16
- 「y = ax² で、x = 2 のとき y = 12。a = □」→ 3

**UI設計:**
- 式 + 回答欄
- 10問程度
- 設定: y を求める / a を求める / x を求める

**実装メモ:**
- a は整数（−5〜+5、0を除く）、または 1/2, −1/3 などの簡単な分数
- x は整数（−5〜+5）
- x を求める場合は x² = y/a から x = ±√(y/a)、答えが整数になるケースを中心に

#### C1-2. 変化の割合
- 「y = x² で、x が 1 から 3 に増加するとき変化の割合は？」
  → (9 − 1) / (3 − 1) = 4
- 「y = 2x² で、x が −2 から 1 に増加するとき変化の割合は？」
  → (2 − 8) / (1 − (−2)) = −2

**UI設計:**
- 式 + xの範囲 + 回答欄
- 10問程度
- 設定: 正の範囲 / 負の範囲 / 正から負にまたがる

**実装メモ:**
- 変化の割合 = (f(x₂) − f(x₁)) / (x₂ − x₁)
- 一次関数と違い一定ではないことを強調
- a(x₁ + x₂) と等しいことを回答で表示

#### C1-3. グラフの特徴
- 「y = 2x² のグラフは上に開く / 下に開く？」→ 上に開く（a > 0）
- 「y = −x² と y = −3x² のグラフの幅の関係は？」→ y = −x² の方が広い
- 「y = ax² のグラフが点 (2, −8) を通るとき a = □」→ −2

**UI設計:**
- 放物線のSVG描画 + 設問
- 10問程度
- 設定: 開く方向 / 幅の比較 / 通る点から a を求める

**実装メモ:**
- 放物線のSVG描画（二次関数のグラフ）
- 座標平面にグリッド線 + 放物線
- a > 0 で上に凸、a < 0 で下に凸

---

## D. データの活用

### D1. 標本調査

**カリキュラム要件:**
- 標本調査の必要性と意味
- 全数調査と標本調査の違い
- 標本を抽出して母集団の傾向を推定すること
- 標本調査を活用して問題を解決すること

**問題タイプ:**

#### D1-1. 標本調査の基本概念
- 「全校生徒800人の中から50人を選んで視力を調べた。母集団は？標本は？」
- 「次の調査は全数調査と標本調査のどちらが適切か？」
  - 製品の耐久検査 → 標本調査（全数検査すると製品がなくなる）
  - 国勢調査 → 全数調査

**UI設計:**
- 文章題 + 選択式回答
- 8問程度
- 設定: 母集団・標本の判定 / 全数・標本の選択

**実装メモ:**
- 文章題テンプレートを複数用意
- 選択式なので自動採点が容易

#### D1-2. 標本調査による推定
- 「池の魚の数を推定する。100匹捕まえて印をつけて放す。後日80匹捕まえたら印付きが5匹。池全体の推定数は？」
  → 100 × 80 / 5 = 1600匹
- 「袋の中の白玉の割合を推定する。50個取り出したら白玉が15個。全200個中の白玉の推定数は？」
  → 200 × 15/50 = 60個

**UI設計:**
- 文章題 + 回答欄
- 8問程度
- 設定: 捕獲再捕獲法 / 比率の推定

**実装メモ:**
- 比例の計算: (印付き/再捕獲) = (全体の印付き/全体)
- 答えが整数になるよう数値を調整
- 文章題のバリエーション（魚、製品の不良率、世論調査など）

---

## 既存機能との対応表

| カリキュラム項目 | 実装状態 | ファイル |
|---|---|---|
| 平方根（全種類） | ✅ 完了 | square-root.ts |
| 式の展開 | ✅ 完了 | expansion.ts |
| 因数分解 | ✅ 完了 | factoring.ts |
| 二次方程式 | ✅ 完了 | quadratic-eq.ts |
| 相似 | ✅ 完了 | similarity.ts |
| 円周角 | ✅ 完了 | circle-angle.ts |
| 三平方の定理 | ✅ 完了 | pythagorean.ts |
| 関数 y=ax² | ✅ 完了 | quadratic-func.ts |
| 標本調査 | ✅ 完了 | sampling.ts |
| 相似の証明 | 将来課題 | − |

## 実装優先度

1. **高**: 因数分解（乗法公式の逆）（高校数学への最重要接続）
2. **高**: 式の展開・乗法公式（因数分解の前提）
3. **高**: 二次方程式（因数分解）（代数の集大成）
4. **高**: 三平方の定理（基本）（図形計算の中心）
5. **高**: 平方根の計算（根号の加減乗除）
6. **中**: 二次方程式（解の公式）
7. **中**: 根号の簡約化
8. **中**: 分母の有理化
9. **中**: 特殊な直角三角形（45-45-90, 30-60-90）
10. **中**: y = ax² の値
11. **中**: 円周角と中心角
12. **中**: 相似比と辺の長さ
13. **中**: 変化の割合（二次関数）
14. **中**: 因数分解（共通因数）
15. **低**: 平行線と比
16. **低**: 三平方の定理の応用（2点間の距離、空間図形）
17. **低**: 標本調査（概念問題が中心）
18. **低**: 中点連結定理
19. **低**: グラフの特徴（放物線SVGが必要）
